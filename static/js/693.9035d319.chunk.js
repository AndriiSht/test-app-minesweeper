"use strict";(self.webpackChunktest_app_minesweeper=self.webpackChunktest_app_minesweeper||[]).push([[693],{623:function(e,n,r){r.d(n,{Mr:function(){return t}});var l=r(590),a=(0,l.cn)({key:"boardSize",default:{rows:10,cols:10,mines:5}}),t=function(){return(0,l.FV)(a)}},693:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var l,a=r(982),t=r(885),u=r(168),i=r(791),o=r(535),v=r(444),s=r(184),x=v.ZP.div(l||(l=(0,u.Z)(["\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  opacity: 0.8;\n  border: 3px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  cursor: pointer;\n  color: #f7cf06;\n  font-weight: bold;\n"])),(function(e){var n=e.revealed,r=e.value;return n&&0!==r?"X"===r?"red":"#0254b1":n&&0===r?"#0254b1":"#000"}));function d(e){var n=e.details,r=e.revealCell,l=n.revealed&&0!==n.value?"X"===n.value?"\ud83d\udca3":n.value:"";return(0,s.jsx)(x,{value:n.value,revealed:n.revealed,onClick:function(){return r(n.x,n.y)},children:l})}var c,y,f,h,p,g=r(167),m=r(623),b=r(871),w=r(819),Z=(0,v.ZP)(g.W2)(c||(c=(0,u.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),X=v.ZP.div(y||(y=(0,u.Z)(["\n  display: flex;\n  flex-direction: row;\n  width: fit-content;\n  color: #f7cf06;\n"]))),j=v.ZP.div(f||(f=(0,u.Z)(["\n  display: flex;\n  margin: 40px auto;\n  justify-content: center;\n  align-items: center;\n"]))),k=(0,v.ZP)(g.zx)(h||(h=(0,u.Z)(["\n  min-width: 200px;\n  margin-bottom: 30px;\n"]))),C=v.ZP.span(p||(p=(0,u.Z)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: #f7cf06;\n"])));var M=function(){var e=(0,i.useState)([]),n=(0,t.Z)(e,2),r=n[0],l=n[1],u=(0,i.useState)(!1),v=(0,t.Z)(u,2),x=v[0],c=v[1],y=(0,i.useState)(0),f=(0,t.Z)(y,2),h=f[0],p=f[1],M=(0,i.useState)([]),S=(0,t.Z)(M,2),P=S[0],z=S[1],_=(0,m.Mr)(),L=(0,t.Z)(_,1)[0],N=(0,i.useCallback)((function(){var e=(0,o.aX)(L.rows,L.cols,L.mines);p(L.rows*L.cols-L.mines),z(e.mineLocation),l(e.board),c(!1)}),[L]);(0,i.useEffect)((function(){N()}),[N]);var V=(0,b.s0)(),D=(0,i.useCallback)((function(e,n){var t=(0,a.Z)(r);if("X"===t[e][n].value||0===h){for(var u=0;u<P.length;u++)t[P[u][0]][P[u][1]].revealed=!0;l(t),c(!0)}var i=(0,o.ub)(t,e,n,h);l(i.arr),p(i.newNonMines)}),[r,P,h]),E=x?"Oooops... Too bad!":0===h?"!!! Victory !!!":"MineSweeper";return(0,s.jsxs)(Z,{children:[(0,s.jsx)(g.X6,{children:E}),(0,s.jsxs)(C,{children:["Mines: ",L.mines]}),(0,s.jsx)(j,{children:(0,s.jsx)("div",{children:r.map((function(e,n){return(0,s.jsx)(X,{children:e.map((function(e,n){return(0,s.jsx)(d,{details:e,revealCell:D},n)}))},n)}))})}),(0,s.jsx)(k,{onClick:function(){return N()},children:"Restart"}),(0,s.jsx)(k,{onClick:function(){return V(w.g.setupSession)},children:"Setup the board size"})]})}},535:function(e,n,r){function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*(n-e+1)+e)}function a(e,n,r){for(var a=[],t=[],u=0;u<e;u++){for(var i=[],o=0;o<n;o++)i.push({value:0,revealed:!1,x:u,y:o});a.push(i)}for(var v=0;v<r;){var s=l(0,e-1),x=l(0,n-1);0===a[s][x].value&&(a[s][x].value="X",t.push([s,x]),v++)}for(var d=0;d<e;d++)for(var c=0;c<n;c++)"X"!==a[d][c].value&&(d>0&&"X"===a[d-1][c].value&&a[d][c].value++,d>0&&c<n-1&&"X"===a[d-1][c+1].value&&a[d][c].value++,c<n-1&&"X"===a[d][c+1].value&&a[d][c].value++,d<e-1&&c<n-1&&"X"===a[d+1][c+1].value&&a[d][c].value++,d<e-1&&"X"===a[d+1][c].value&&a[d][c].value++,d<e-1&&c>0&&"X"===a[d+1][c-1].value&&a[d][c].value++,c>0&&"X"===a[d][c-1].value&&a[d][c].value++,d>0&&c>0&&"X"===a[d-1][c-1].value&&a[d][c].value++);return{board:a,mineLocation:t}}r.d(n,{Db:function(){return t},aX:function(){return a},ub:function(){return u}});var t,u=function(e,n,r,l){var a=[];for(a.push(e[n][r]);0!==a.length;){var t=a.pop();if(null!==t&&void 0!==t&&t.revealed||(l--,t.revealed=!0),0!==(null===t||void 0===t?void 0:t.value))break;t.x>0&&t.y>0&&0===e[t.x-1][t.y-1].value&&!e[t.x-1][t.y-1].revealed&&a.push(e[t.x-1][t.y-1]),t.x<e.length-1&&t.y<e[0].length-1&&0===e[t.x+1][t.y+1].value&&!e[t.x+1][t.y+1].revealed&&a.push(e[t.x+1][t.y+1]),t.x>0&&t.y<e[0].length-1&&0===e[t.x-1][t.y+1].value&&!e[t.x-1][t.y+1].revealed&&a.push(e[t.x-1][t.y+1]),t.x<e.length-1&&t.y>0&&0===e[t.x+1][t.y-1].value&&!e[t.x+1][t.y-1].revealed&&a.push(e[t.x+1][t.y-1]),t.x>0&&0===e[t.x-1][t.y].value&&!e[t.x-1][t.y].revealed&&a.push(e[t.x-1][t.y]),t.y<e[0].length-1&&0===e[t.x][t.y+1].value&&!e[t.x][t.y+1].revealed&&a.push(e[t.x][t.y+1]),t.x<e.length-1&&0===e[t.x+1][t.y].value&&!e[t.x+1][t.y].revealed&&a.push(e[t.x+1][t.y]),t.y>0&&0===e[t.x][t.y-1].value&&!e[t.x][t.y-1].revealed&&a.push(e[t.x][t.y-1]),t.x>0&&t.y>0&&!e[t.x-1][t.y-1].revealed&&(e[t.x-1][t.y-1].revealed=!0,l--),t.y>0&&!e[t.x][t.y-1].revealed&&(e[t.x][t.y-1].revealed=!0,l--),t.x<e.length-1&&t.y>0&&!e[t.x+1][t.y-1].revealed&&(e[t.x+1][t.y-1].revealed=!0,l--),t.x>0&&!e[t.x-1][t.y].revealed&&(e[t.x-1][t.y].revealed=!0,l--),t.x<e.length-1&&!e[t.x+1][t.y].revealed&&(e[t.x+1][t.y].revealed=!0,l--),t.x>0&&t.y<e[0].length-1&&!e[t.x-1][t.y+1].revealed&&(e[t.x-1][t.y+1].revealed=!0,l--),t.y<e[0].length-1&&!e[t.x][t.y+1].revealed&&(e[t.x][t.y+1].revealed=!0,l--),t.x<e.length-1&&t.y<e[0].length-1&&!e[t.x+1][t.y+1].revealed&&(e[t.x+1][t.y+1].revealed=!0,l--)}return{arr:e,newNonMines:l}};!function(e){e.cols="cols",e.rows="rows",e.mines="mines"}(t||(t={}))}}]);
//# sourceMappingURL=693.9035d319.chunk.js.map